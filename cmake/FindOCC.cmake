SET(OCC_DIR "" CACHE FILEPATH "Path to OpenCascade directory")

FIND_LIBRARY(lPTKernel NAMES PTKernel PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKernel NAMES TKernel PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKMath NAMES TKMath PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKBRep NAMES TKBRep PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKIGES NAMES TKIGES PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKSTEP NAMES TKSTEP PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKSTEPAttr NAMES TKSTEPAttr PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKSTEP209 NAMES TKSTEP209 PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKSTEPBase NAMES TKSTEPBase PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKShapeSchema NAMES TKShapeSchema PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKGeomBase NAMES TKGeomBase PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKGeomAlgo NAMES TKGeomAlgo PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKG3d NAMES TKG3d PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKG2d NAMES TKG2d PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKXSBase NAMES TKXSBase PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKPShape NAMES TKPShape PATHS ${OCC_DIR}/lib)
FIND_LIBRARY(lTKTopAlgo NAMES TKTopAlgo PATHS ${OCC_DIR}/lib)

SET(OCC_FOUND FALSE)
IF(lPTKernel)
    SET(OCC_FOUND TRUE)
    SET(OCC_LIBS ${lPTKernel} ${lTKernel} ${lTKMath} ${lTKBRep} ${lTKIGES} ${lTKSTEP} ${lTKSTEPAttr} ${lTKSTEP209} ${lTKSTEPBase} ${lTKShapeSchema} ${lTKGeomBase} ${lTKGeomAlgo} ${lTKG3d} ${lTKG2d} ${lTKXSBase} ${lTKPShape} ${lTKTopAlgo})
ENDIF(lPTKernel)

IF(OCC_FOUND)
    MESSAGE(STATUS "Found opencascade: ${OCC_LIBS}")
    SET(OCC_INCLUDE_DIR ${OCC_DIR}/inc CACHE FILEPATH "OpenCascade include directory.")
ELSE(OCC_FOUND)
    MESSAGE(FATAL_ERROR "could not find opencascade")
ENDIF(OCC_FOUND)